@using trivesta.Services;
@inject LoginValidator loginValidator
@{
    var user = await loginValidator.GetUserAuth();
}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>@ViewData["Title"] - trivesta</title>


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;500;700;900&display=swap" rel="stylesheet">
    <link rel="shortcut icon" type="image/x-icon" href="../assets/images/logo2.png">
    <link rel="stylesheet" href="~/css/app-style.css" />
    <link rel="stylesheet" href="~/css/site.css" />

    <!-- Additional CSS Files -->
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
    <link rel="stylesheet" href="~/assets/css/templatemo-chain-app-dev.css">
    <link rel="stylesheet" href="~/assets/css/animated.css">
    <link rel="stylesheet" href="~/assets/css/owl.css">

    <!-- Bootstrap core CSS -->
    <link href="~/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
</head>
<body id="alertMe">
      <!-- ***** Preloader Start ***** -->
  <div id="js-preloader" class="js-preloader">
    <div class="preloader-inner">
      <span class="dot"></span>
      <div class="dots">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>
  </div>
  <!-- ***** Preloader End ***** -->

  
  <!-- ***** Header Area Start ***** -->
  <header class="header-area header-sticky wow slideInDown" data-wow-duration="0.75s" data-wow-delay="0s">
    <div class="container">
      <div class="row">
        <div class="col-12">
          <nav class="main-nav">
            <!-- ***** Logo Start ***** -->
                        <a asp-action="index" asp-controller="home" class="logo">
              <img src="../assets/images/logo.png" alt="Trivesta">
            </a>
            <!-- ***** Logo End ***** -->
            <!-- ***** Menu Start ***** -->
                        <ul class="nav">
                            <li class="scroll-to-section"><a asp-action="index" asp-controller="home" class="active">Home</a></li>
                            <li class="scroll-to-section"><a asp-action="index" asp-controller="rooms">Rooms</a></li>
                            <li class="scroll-to-section"><a href="/#services">Services</a></li>
                            <li class="scroll-to-section"><a href="/#about">About</a></li>
                            <li class="scroll-to-section"><a href="/#pricing">Pricing</a></li>
                            @if(user == null){
                                <li><div class="gradient-button"><a id="modal_trigger" href="#modal"><i class="fa fa-sign-in-alt"></i> Sign In Now</a></div></li>
                            }else{
                                <li><div class="gradient-button"><a asp-action="index" asp-controller="manager"><i class="fa fa-user"></i> @user.Username</a></div></li>
                            }
                           
                        </ul>
                        <a class='menu-trigger'>
                <span>Menu</span>
            </a>
            <!-- ***** Menu End ***** -->
          </nav>
        </div>
      </div>
    </div>
  </header>
  <!-- ***** Header Area End ***** -->
    @if (user == null || string.IsNullOrEmpty(user.Email))
    {
        <div id="modal" class="popupContainer" style="display:none;">
            <div class="popupHeader">
                <span class="header_title">Login</span>
                <span class="modal_close"><i class="fa fa-times"></i></span>
            </div>

            <section class="popupBody">
                <!-- Social Login -->
                <div class="social_login">
                    <div class="">
                        <a href="#" class="social_box fb">
                            <span class="icon"><i class="fab fa-facebook"></i></span>
                            <span class="icon_title">Connect with Facebook</span>

                        </a>

                        <a href="#" class="social_box google">
                            <span class="icon"><i class="fab fa-google-plus"></i></span>
                            <span class="icon_title">Connect with Google</span>
                        </a>
                    </div>

                    <div class="centeredText">
                        <span>Or use your Email address</span>
                    </div>

                    <div class="action_btns">
                        <div class="one_half"><a href="#" id="login_form" class="btn btn-primary">Login</a></div>
                        <div class="one_half last"><a href="#" id="register_form" class="btn btn-primary">Sign up</a></div>
                    </div>
                </div>

                <!-- Username & Password Login form -->
                <div class="user_login">
                    <form asp-action="login" asp-controller="manager" method="post">
                        <input type="text" placeholder="Username or Email Address" name="emailOrUserName" required />
                        <input type="password" placeholder="Password" name="password" required />
                        <br />

                        <div class="checkbox">
                            @*  <input id="remember" type="checkbox" />*@
                            <label><small>Users are responsible for information shared. Apply caution with strangers!</small></label>
                        </div>

                        <div class="action_btns">
                            <div class="one_half"><a href="#" class="btn btn-danger back_btn"><i class="fa fa-angle-double-left"></i> Back</a></div>
                            <div class="one_half last"><label for="login"><a class="btn btn-primary btn_red">Login</a></label><button class="hidden" type="submit" id="login"></button></div>
                        </div>
                    </form>

                    <a href="#" class="forgot_password">Forgot password?</a>
                </div>

                <!-- Register Form -->
                <div class="user_register">
                    <form asp-action="register" asp-controller="manager">
                        <input type="text" placeholder="Username" name="username" required/>
                        <input type="email" placeholder="Email Address" name="email" required/>
                        <input type="password" placeholder="Password" name="password" id="password" required />
                        <br />

                        <div class="checkbox">
                            @*  <input id="send_updates" type="checkbox" />*@
                            <small>By proceeding with registration, you agree to all terms and polices of usage</small>
                        </div>

                        <div class="action_btns">
                            <div class="one_half"><a href="#" class="btn btn-danger back_btn"><i class="fa fa-angle-double-left"></i> Back</a></div>
                            <div class="one_half last"><label for="register"><a class="btn btn-primary btn_red">Register</a></label><button class="hidden" onclick="return(CheckPassword())" type="submit" id="register"></button></div>
                        </div>
                    </form>
                </div>
            </section>
        </div>

    }
    
    <div>
        @RenderBody()
    </div>
    <footer id="newsletter">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <div class="section-heading">
                        <h4>Receive offers, news &amp; latest trends</h4>
                    </div>
                </div>
                <div class="col-lg-6 offset-lg-3">
                    <form id="search" action="#" method="GET">
                        <div class="row">
                            <div class="col-lg-6 col-sm-6">
                                <fieldset>
                                    <input type="email" name="address" class="email" placeholder="Email Address..." autocomplete="on" required>
                                </fieldset>
                            </div>
                            <div class="col-lg-6 col-sm-6">
                                <fieldset>
                                    <button type="submit" class="main-button">Subscribe Now <i class="fa fa-angle-right"></i></button>
                                </fieldset>
                            </div>
                        </div>
                    </form>
                </div>
            </div>
            <div class="row">
                <div class="col-lg-4">
                    <div class="footer-widget">
                        <h4>Contact Us</h4>
                        <p>No 23 Egbeda LGA Avenue, opposite sazo filling station. Ibadan</p>
                        <p><a href="tel:+2348137395582">+234 813 739 5582</a></p>
                        <p><a href="mailto:info@trivesta.com">info@trivesta.com</a></p>
                    </div>
                </div>
                <div class="col-lg-4">
                    <div class="footer-widget">
                        <h4 class="text-center">Useful Links</h4>
                        <div class="row">
                            <div class="col-6 text-center">
                                <ul>
                                    <li><a asp-action="index" asp-controller="home">Home</a></li>
                                    <li><a href="/#services">Services</a></li>
                                    <li><a href="/#pricing">Pricing</a></li>
                                </ul>
                            </div>
                            <div class="col-6 text-center">
                                <ul>
                                    <li><a href="/#about">About</a></li>
                                    <li><a asp-action="index" asp-controller="manager">Manager</a></li>
                                    <li><a asp-action="index" asp-controller="rooms">Rooms</a></li>
                                </ul>
                            </div>
                        </div>
                     
                       
                    </div>
                </div>
                @*<div class="col-lg-3">
                    <div class="footer-widget">
                        <h4>Useful Links</h4>
                        <ul>
                            <li><a href="#">Free Apps</a></li>
                            <li><a href="#">App Engine</a></li>
                            <li><a href="#">Programming</a></li>
                            <li><a href="#">Development</a></li>
                            <li><a href="#">App News</a></li>
                        </ul>
                        <ul>
                            <li><a href="#">App Dev Team</a></li>
                            <li><a href="#">Digital Web</a></li>
                            <li><a href="#">Normal Apps</a></li>
                        </ul>
                    </div>
                </div>*@
                <div class="col-lg-4">
                    <div class="footer-widget">
                        <h4>About Us</h4>
                        <div class="logo">
                            <img src="../assets/images/white-logo.png" alt="">
                        </div>
                        <p>Beyond chat, we're a lively community fostering seamless interaction, innovation, and fun. Join us in redefining how people connect!</p>
                    </div>
                </div>
                <div class="col-lg-12">
                    <div class="copyright-text">
                        <p>
                            Trivesta is a product of Salmatra Global Company
                            <br>&copy; 2023 - <a href="#" target="_blank">D'arlos Valley</a>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="~/vendor/jquery/jquery.min.js"></script>
    <script src="~/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="~/assets/js/owl-carousel.js"></script>
    <script src="~/assets/js/animation.js"></script>
    <script src="~/assets/js/imagesloaded.js"></script>
    <script src="~/assets/js/popup.js"></script>
    <script src="~/assets/js/custom.js"></script>
    <script src="~/js/app-script.js"></script>
    <script src="~/js/site.js"></script>
    <script>
        let error = "@TempData["MessageError"]";
        let success = "@TempData["MessageSuccess"]";
        if (error != "") {
            alertDanger(error);
        }
        if (success != "") {
            alertSuccess(success);
        }

        function CheckPassword(){
            var password = document.getElementById("password");
            if(password.value.length < 4){
                alertDanger("Password too short");
                return false;
            }
            else if(password.value.length > 8){
                alertDanger("Password too long");
                return false;
            }
        }
    </script>
    @await RenderSectionAsync("Scripts", required: false)
</body>
</html>
